if(!window.ComponentArt_TreeView_Keyboard_Loaded){window._q12C=function(){if(_q126.CurrentDepth==0){return _q126.HighlightedItemDom;}var _1=_q126.HighlightedGroupDom.parentNode;_q126.CurrentDepth--;for(var i=0;i<_1.childNodes.length;i++){if(_1.childNodes[i].nodeName=="TABLE"){_q126.CurrentGroupDomIndex=i;}else{if(_1.childNodes[i]==_q126.HighlightedGroupDom){break;}}}_q126.HighlightedGroupDom=_1;_q126.HighlightedItemDom=_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex];return _q126.HighlightedItemDom;};window._q129=function(){newHighlighted=_q12A(false,true);var _3;do{_3=newHighlighted;newHighlighted=_q12A(true,true);}while(_3!=newHighlighted);var _4=_q126.GetItemFromStorage(_q100(_q126.HighlightedItemDom.id));if(_4.Expanded&&_4.ChildIndices.length>0){return _q129();}return _q126.HighlightedItemDom;};window._q12B=function(){if(_q126.CurrentGroupDomIndex>0){for(_q126.CurrentGroupDomIndex--;_q126.CurrentGroupDomIndex>=0;_q126.CurrentGroupDomIndex--){if(_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex].nodeName=="TABLE"){break;}}_q126.HighlightedItemDom=_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex];var _5=_q126.GetItemFromStorage(_q100(_q126.HighlightedItemDom.id));if(_5.Expanded&&_5.ChildIndices.length>0){return _q129();}}else{if(_q126.CurrentDepth>0){return _q12C();}}return _q126.HighlightedItemDom;};window._q12A=function(_6,_7){var _8=null;var _9=0;if(_q126.HighlightedGroupDom.childNodes.length>_q126.CurrentGroupDomIndex+1&&_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex+1].nodeName=="DIV"){if(_q126.HighlightedGroupDom.childNodes.length>_q126.CurrentGroupDomIndex+2&&_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex+2].nodeName=="DIV"){_9=_q126.CurrentGroupDomIndex+2;_8=_q126.HighlightedGroupDom.childNodes[_9];}else{_9=_q126.CurrentGroupDomIndex+1;_8=_q126.HighlightedGroupDom.childNodes[_9];}}if(!_8){return;}if(!_6&&_8.style.display!="none"&&_8.childNodes.length>0){_q126.HighlightedGroupDom=_8;_q126.HighlightedItemDom=_q126.HighlightedGroupDom.childNodes[0];_q126.CurrentGroupDomIndex=0;_q126.CurrentDepth++;}else{if(_q126.HighlightedGroupDom.lastChild!=_8){_q126.CurrentGroupDomIndex=_9+1;_q126.HighlightedItemDom=_q126.HighlightedGroupDom.childNodes[_q126.CurrentGroupDomIndex];}else{if(!_7&&_q126.CurrentDepth>0){for(var _a=_q126.HighlightedItem;_a!=null;_a=_q126.GetItemFromStorage(_a.ParentStorageIndex)){if(!_a.IsLastInGroup()){_q12C();return _q12A(true);}}}}}return _q126.HighlightedItemDom;};window._q128=function(){var _b=document.getElementById(_q126.TreeViewID);_q126.HighlightedGroupDom=_b;_q126.HighlightedItemDom=_q126.HighlightedGroupDom.childNodes[0];_q126.CurrentGroupDomIndex=0;_q126.CurrentDepth=0;return _q126.HighlightedItemDom;};window.ComponentArt_KeyMoveHome=function(){var _c=_q126.HighlightedItemDom;var _d=_q128();_q150(_d);_q188(_c,_d);};window.ComponentArt_KeyMoveEnd=function(){var _e=_q126.HighlightedItemDom;var _f=_q128();var _10=null;while(_f!=_10){_f=_10;_10=_q12A(true,true);}var _11=_q129();_q150(_11);_q188(_e,_11);};window.ComponentArt_KeyMoveDown=function(){var _12=_q126.HighlightedItemDom;var _13=_q12A();_q150(_13);_q188(_12,_13);};window.ComponentArt_KeyMoveUp=function(){var _14=_q126.HighlightedItemDom;var _15=_q12B();_q150(_15);_q188(_14,_15);};window.ComponentArt_KeyMoveLeft=function(){var _16=_q104(_q126.HighlightedItemDom);if(_16&&_16.style.display!="none"){_qDD(_q126,_16,_q126.HighlightedItem);}else{var _17=_q126.HighlightedItemDom;var _18=_q12C();_q188(_17,_18);}};window.ComponentArt_KeyMoveRight=function(){if(_q126.HighlightedItem.ChildIndices.length>0||_q126.HighlightedItem.ContentCallbackUrl){var _19=_q104(_q126.HighlightedItemDom);if(_19&&_19.style.display=="none"){_qFA(_q126,_19,_q126.HighlightedItem,_q126.CurrentDepth);}else{var _1a=_q126.HighlightedItemDom;var _1b=_q12A();_q188(_1a,_1b);}}};window._q188=function(_1c,_1d){if(_1c&&_1c.onmouseout){_1c.onmouseout();}if(_q126.HighlightedItemCellDom&&_q126.HighlightedItemCellDom.onmouseout){_q126.HighlightedItemCellDom.onmouseout();}if(_q126.HighlightedItemDom){_q126.HighlightedItem=_q126.GetItemFromStorage(_q100(_q126.HighlightedItemDom.id));_q126.HighlightedItemCellDom=document.getElementById(_q126.HighlightedItemDom.id+"_cell");if(_1d.onmouseover){_1d.onmouseover();}if(_q126.HighlightedItemCellDom.onmouseover){_q126.HighlightedItemCellDom.onmouseover();}var _1e=_q126.get_events().getHandler("nodeKeyboardNavigate");if(_1e){_1e(_q126,new ComponentArt.Web.UI.TreeViewNodeEventArgs(_q126.HighlightedItem));}}_q126.LastNavMethod=1;};window._q127=function(_1f,_20,_21){var _22=_1f.HighlightedItemDom;_1f.HighlightedItem=_20;_1f.HighlightedItemDom=_21;_1f.HighlightedGroupDom=_21.parentNode;_1f.CurrentDepth=_20.Depth;for(var i=0;i<_1f.HighlightedGroupDom.childNodes.length;i++){if(_1f.HighlightedGroupDom.childNodes[i]==_21){_1f.CurrentGroupDomIndex=i;break;}}_1f.CurrentDepth=_20.CalculateDepth();_q126=_1f;_q188(_22,_21);};window.ComponentArt_SetKeyboardFocusedTree=function(_24,_25){if(_q126&&_q126==_25){return;}if(_q126){var _26=document.getElementById(_q126.TreeViewID);if(_26){_26.className=_q126.CssClass;}}_q126=_25;if(_25.FocusedCssClass){_24.className=_25.FocusedCssClass;}};window.ComponentArt_InitKeyboard=function(_27){var _28=document.getElementById(_27.TreeViewID);ComponentArt_SetKeyboardFocusedTree(_28,_27);_27.KeyboardEnabled=true;_27.HighlightedItem=_27.Nodes()[0];_27.HighlightedItemCellDom=document.getElementById(_27.TreeViewID+"_item_0_cell");_27.HighlightedGroupDom=_28;_27.HighlightedItemDom=_27.HighlightedGroupDom.childNodes[0];_27.CurrentGroupDomIndex=0;_27.CurrentDepth=0;ComponentArt_RegisterKeyHandler(_27,"Enter","ComponentArt_SelectKeyItem()");ComponentArt_RegisterKeyHandler(_27,"(","ComponentArt_KeyMoveDown()");ComponentArt_RegisterKeyHandler(_27,"&","ComponentArt_KeyMoveUp()");ComponentArt_RegisterKeyHandler(_27,"'","ComponentArt_KeyMoveRight()");ComponentArt_RegisterKeyHandler(_27,"%","ComponentArt_KeyMoveLeft()");ComponentArt_RegisterKeyHandler(_27,"$","ComponentArt_KeyMoveHome()");ComponentArt_RegisterKeyHandler(_27,"#","ComponentArt_KeyMoveEnd()");document.onkeydown=ComponentArt_ProcessKeyPress;};window.ComponentArt_SelectKeyItem=function(){if(_q126){_q126.SelectNode(_q126.HighlightedItem,_q126.HighlightedItemDom,_q126.HighlightedItemCellDom);}};window.ComponentArt_TreeView_Keyboard_Loaded=true;}
